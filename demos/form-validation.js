// Generated by HTMS - CommonJS format
'use strict';

const div2 = document.createElement('div');
div2.setAttribute('id', 'formDemo');
const form1 = document.createElement('form');
form1.setAttribute('id', 'vf');
const label1 = document.createElement('label');
const input1 = document.createElement('input');
input1.setAttribute('id', 'email');
input1.setAttribute('type', 'email');
input1.setAttribute('placeholder', 'name@example.com');
label1.appendChild(input1);
form1.appendChild(label1);
const button4 = document.createElement('button');
button4.setAttribute('type', 'submit');
button4.textContent = `Sign up`;
form1.appendChild(button4);
div2.appendChild(form1);
const p4 = document.createElement('p');
p4.setAttribute('id', 'err');
p4.setAttribute('style', 'color:red; display:none');
p4.textContent = `Please enter a valid email.`;
div2.appendChild(p4);
const p5 = document.createElement('p');
p5.setAttribute('id', 'ok');
p5.setAttribute('style', 'color:green; display:none');
p5.textContent = `Thanks! Check your inbox.`;
div2.appendChild(p5);
document.body.appendChild(div2);
try {
  const forms = document.querySelectorAll(`#vf`);
  if (forms.length === 0) {
    console.warn('No elements found for submit target: #vf');
  }
  forms.forEach(function (element) {
    element.addEventListener('submit', function (event) {
      try {
        event.preventDefault && event.preventDefault();
        (function () {
          try {
            const el = document.querySelector(`#err`);
            if (!el) {
              console.warn('TOGGLE target not found: #err');
              return;
            }
            el.style.display = !/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(document.getElementById('email').value) ? '' : 'none';
          } catch (error) {
            console.error('TOGGLE failed:', error);
          }
        }());
        (function () {
          try {
            const el = document.querySelector(`#ok`);
            if (!el) {
              console.warn('TOGGLE target not found: #ok');
              return;
            }
            el.style.display = /^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(document.getElementById('email').value) ? '' : 'none';
          } catch (error) {
            console.error('TOGGLE failed:', error);
          }
        }());
        (function () {
          try {
            const el = document.querySelector(`#ok`);
            if (!el) {
              console.warn('TOGGLE target not found: #ok');
              return;
            }
            el.style.display = /^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(document.getElementById('email').value) ? '' : 'none';
          } catch (error) {
            console.error('TOGGLE failed:', error);
          }
        }());
        (function () {
          try {
            const el = document.querySelector(`#err`);
            if (!el) {
              console.warn('TOGGLE target not found: #err');
              return;
            }
            el.style.display = !/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(document.getElementById('email').value) ? '' : 'none';
          } catch (error) {
            console.error('TOGGLE failed:', error);
          }
        }());
        (function () {
          try {
            const el = document.querySelector(`#email`);
            if (!el) {
              console.warn('SETPROP target not found: #email');
              return;
            }
            el['value'] = '';
          } catch (error) {
            console.error('SETPROP failed:', error);
          }
        }());
      } catch (error) {
        console.error('Submit handler error:', error);
      }
    });
  });
} catch (error) {
  console.error('Submit setup failed:', error);
}