<div id="formDemo">
  <form id="vf">
    <label>Email <input id="email" type="email" placeholder="name@example.com" /></label>
    <button type="submit">Sign up</button>
  </form>
  <p id="err" style="color:red; display:none">Please enter a valid email.</p>
  <p id="ok" style="color:green; display:none">Thanks! Check your inbox.</p>
</div>

<!-- On submit: validate; show error or success; clear input on success -->
<submit target="#vf">
  <toggle target="#err" condition="!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(document.getElementById('email').value)"></toggle>
  <toggle target="#ok" condition="/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(document.getElementById('email').value)"></toggle>
  <show target="#ok" when="/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(document.getElementById('email').value)"></show>
  <show target="#err" when="!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(document.getElementById('email').value)"></show>
  <setprop selector="#email" prop="value" value="''"></setprop>
</submit>

